<div>
    <div class="row">
        <div class="col col-lg-3 col-md-6">
            <div class="card rounded-4">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="rounded-circle p-2 bg-soft-primary">
                            <svg class="p-1" width="50" version="1.1" id="_x34_"
                                xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                                viewBox="0 0 512 512" xml:space="preserve" fill="currentColor">
                                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                                <g id="SVGRepo_iconCarrier">
                                    <g>
                                        <g>
                                            <path style="fill:#4AAEAD;"
                                                d="M431.942,88.352v291.165c0,2.162-0.289,4.184-0.794,6.202c-0.072,0-0.072,0.072-0.072,0.144 c-1.009,3.823-2.957,7.357-5.698,10.241c-4.255,4.833-10.458,8.007-17.382,8.223h-0.072c-0.289,0.072-0.577,0.072-0.866,0.072 H26.246c-3.967,0-7.645-0.938-10.963-2.597c-4.904-2.451-8.871-6.418-11.324-11.322c-1.154-2.308-1.947-4.833-2.308-7.501 c-0.216-1.155-0.288-2.309-0.288-3.462V88.352c0-13.703,11.251-24.955,24.883-24.955h380.814 C420.691,63.397,431.942,74.649,431.942,88.352z">
                                            </path>
                                            <path style="fill:#4AAEAD;"
                                                d="M431.942,88.352v291.165c0,2.162-0.289,4.184-0.794,6.202c-0.072,0-0.072,0.072-0.072,0.144 c-1.009,3.823-2.957,7.357-5.698,10.241c-4.255,4.833-10.458,8.007-17.382,8.223h-0.072c-0.289,0.072-0.577,0.072-0.866,0.072 H26.246c-3.967,0-7.645-0.938-10.963-2.597c-4.904-2.451-8.871-6.418-11.324-11.322c-1.154-2.308-1.947-4.833-2.308-7.501 c-0.216-1.155-0.288-2.309-0.288-3.462V88.352c0-13.703,11.251-24.955,24.883-24.955h380.814 C420.691,63.397,431.942,74.649,431.942,88.352z">
                                            </path>
                                            <path style="fill:#4AAEAD;"
                                                d="M216.508,141.796H33.458c-3.39,0-6.563-0.433-9.665-1.227c-12.91-3.101-22.43-12.549-22.43-23.657 V24.884C1.363,11.179,15.86,0,33.458,0h99.459l37.36,63.397l13.271,22.43l12.549,21.35L216.508,141.796z">
                                            </path>
                                            <path style="fill:#FFFFFF;"
                                                d="M26.266,381.982c-1.327,0-2.489-1.162-2.489-2.489V88.318c0-1.327,1.162-2.489,2.489-2.489h380.767 c1.327,0,2.489,1.162,2.489,2.489v291.175c0,1.327-1.162,2.489-2.489,2.489H26.266z">
                                            </path>
                                            <path style="fill:#52BEBC;"
                                                d="M510.629,128.814c0.072,0.072,0,0.072,0,0.144l-2.02,6.635l-10.314,33.394l-11.035,35.701 l-10.314,33.32l-11.035,35.703l-10.241,33.392l-23.801,76.883c-0.217,0.578-0.505,1.153-0.722,1.731 c-0.072,0-0.072,0.072-0.072,0.144c-0.072,0.072-0.144,0.144-0.144,0.144c0,0.072-0.072,0.217-0.144,0.289 c-4.039,8.149-12.982,15.073-22.503,17.959c-0.144,0-0.216,0.072-0.288,0.072h-0.072c-3.174,0.937-6.275,1.442-9.376,1.442H17.807 c-12.549,0-19.834-8.221-17.309-18.751c0.144-1.011,0.505-2.02,0.865-3.03l0.288-1.009l22.142-71.62l52.362-169.561l3.967-12.838 c4.616-11.974,19.618-21.782,33.321-21.782h380.741C507.816,107.177,515.245,116.912,510.629,128.814z">
                                            </path>
                                            <polygon style="opacity:0.5;fill:#A7D7C7;"
                                                points="465.94,273.725 455.637,307.098 301.265,307.098 301.265,273.725 ">
                                            </polygon>
                                            <polygon style="opacity:0.5;fill:#A7D7C7;"
                                                points="487.268,204.664 476.965,238.037 324.783,238.037 324.783,204.664 ">
                                            </polygon>
                                        </g>
                                        <path style="opacity:0.06;fill:#040000;"
                                            d="M510.629,128.814c0.072,0.072,0,0.072,0,0.144l-2.02,6.635l-10.314,33.394 l-11.035,35.701l-10.314,33.32l-11.035,35.703l-10.241,33.392l-23.801,76.883c-0.217,0.578-0.505,1.153-0.722,1.731 c-0.072,0-0.072,0.072-0.072,0.144c-0.072,0.072-0.144,0.144-0.144,0.144c0,0.072-0.072,0.217-0.144,0.289 c-1.01,3.678-2.885,7.068-5.409,9.808c-4.255,4.761-10.314,7.79-17.093,8.151c-0.144,0-0.216,0.072-0.288,0.072h-0.072 c-3.174,0.937-6.275,1.442-9.376,1.442H53.076l1.37-1.37l22.43-22.431l274.792-274.791l21.348-21.35l22.431-22.43h11.612 c13.632,0,24.883,11.252,24.883,24.955v18.825h62.242C507.816,107.177,515.245,116.912,510.629,128.814z">
                                        </path>
                                    </g>
                                </g>
                            </svg>
                        </div>
                        <div class="text-end fw-bold h6 text-muted"> Applications <h4 class="fw-bold text-muted">
                                <span>{{ $applications->count() }}</span>
                            </h4>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col col-lg-3 col-md-6">
            <div class="card rounded-4">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="rounded-circle p-2 bg-soft-info">
                            <svg width="50" version="1.1" id="_x32_" xmlns="http://www.w3.org/2000/svg"
                                xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve"
                                fill="currentColor">
                                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                                <g id="SVGRepo_iconCarrier">
                                    <g>
                                        <path
                                            d="M412.174,352.363c-12.536,3.75-24.842,10.263-37.224,22.584l-0.016,0.016 c-16.117,16.239-22.454,32.372-25.254,49.025c-2.756,16.646-1.394,33.689-1.103,49.997c0.03,2.725,0.046,5.449-0.015,8.151 l133.575-133.591c-4.24,0.1-8.51,0.038-12.826-0.069C450.531,347.916,430.924,346.768,412.174,352.363z">
                                        </path>
                                        <path
                                            d="M256.007,0.004C114.611,0.004,0,114.607,0,255.988c0,141.397,114.611,256.008,256.007,256.008 c21.168,0,41.663-2.74,61.347-7.592c2.525-2.793,4.132-6.244,5.173-11.816c1.056-5.839,1.148-13.622,0.888-22.606 c-0.428-17.985-2.204-40.776,4.898-64.928c4.73-16.086,13.638-32.617,28.898-47.823c0,0,0-0.008,0.016-0.016 c19.944-20.066,42.214-28.997,62.708-32.28c20.525-3.329,39.428-1.615,54.444-1.431c9.995,0.199,18.137-0.414,23.418-2.304 c2.785-0.988,4.791-2.227,6.612-3.888c4.852-19.66,7.592-40.163,7.592-61.323C512,114.607,397.389,0.004,256.007,0.004z M202.069,322.439l-16.775,3.306c-1.132,0.214-1.913-0.069-2.679-0.941l-45.78-53.495l-0.704,0.138l11.831,60.168 c0.168,0.85-0.291,1.524-1.132,1.691l-15.934,3.131c-0.842,0.168-1.515-0.292-1.684-1.141l-18.275-92.991 c-0.183-0.857,0.276-1.523,1.118-1.691l16.913-3.329c0.995-0.199,1.913,0.069,2.663,0.949l45.688,53.655l0.704-0.138 l-11.862-60.313c-0.169-0.85,0.29-1.515,1.148-1.691l15.918-3.13c0.842-0.168,1.516,0.275,1.684,1.132l18.291,92.999 C203.37,321.606,202.911,322.278,202.069,322.439z M284.675,306.192l-61.438,12.091c-0.857,0.161-1.516-0.291-1.683-1.14 l-18.306-92.991c-0.153-0.857,0.291-1.531,1.148-1.699l61.438-12.084c0.842-0.161,1.516,0.292,1.684,1.14l2.954,15.077 c0.184,0.842-0.275,1.515-1.117,1.683l-41.296,8.12c-0.566,0.106-0.795,0.444-0.689,1.01l3.751,19.025 c0.106,0.559,0.443,0.788,1.01,0.681l34.392-6.766c0.842-0.161,1.516,0.299,1.684,1.133l2.939,14.938 c0.168,0.849-0.291,1.516-1.133,1.684l-34.392,6.764c-0.551,0.108-0.796,0.444-0.689,1.01l3.918,19.867 c0.107,0.567,0.459,0.788,1.01,0.673l41.295-8.12c0.842-0.168,1.516,0.299,1.684,1.14l2.969,15.076 C285.977,305.358,285.518,306.032,284.675,306.192z M387.578,284.488c0.016,0.888-0.566,1.592-1.561,1.776l-14.096,2.77 c-0.98,0.199-1.668-0.26-2.113-1.049l-28.347-56.333l-0.275,0.061l-5.052,62.899c-0.106,0.896-0.566,1.577-1.545,1.768 l-14.096,2.778c-0.843,0.161-1.516-0.298-1.975-1.087l-43.086-88.124c-0.306-0.819-0.138-1.439,0.856-1.63l18.168-3.574 c0.994-0.191,1.668,0.252,1.959,1.079l25.652,57.45l0.291-0.061l4.515-63.374c0.107-0.911,0.566-1.577,1.546-1.776l12.26-2.41 c0.842-0.161,1.516,0.283,1.975,1.087l28.729,56.831l0.291-0.053l1.408-62.762c-0.046-1.018,0.429-1.561,1.423-1.752l18.03-3.544 c0.98-0.199,1.378,0.306,1.393,1.186L387.578,284.488z">
                                        </path>
                                    </g>
                                </g>
                            </svg>
                        </div>
                        <div class="text-end fw-bold h6 text-muted"> New <h4 class="fw-bold text-muted">
                                <span> {{ $applications->where('permit_status', 'new')->count() }}</span>
                            </h4>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col col-lg-3 col-md-6">
            <div class="card rounded-4">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="rounded-circle p-2 bg-soft-success">
                            <svg fill="currentColor" width="50" viewBox="0 0 24 24" id="approved-file-2"
                                data-name="Line Color" xmlns="http://www.w3.org/2000/svg" class="icon line-color">
                                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                                <g id="SVGRepo_iconCarrier">
                                    <polyline id="secondary" points="15 19 17 21 21 17"
                                        style="fill: none; stroke: #2ca9bc; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;">
                                    </polyline>
                                    <path id="secondary-2" data-name="secondary" d="M7,13h6M7,9h6"
                                        style="fill: none; stroke: #2ca9bc; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;">
                                    </path>
                                    <path id="primary" d="M11,21H4a1,1,0,0,1-1-1V4A1,1,0,0,1,4,3H15l2,2V15"
                                        style="fill: none; stroke: #2ca9bc; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;">
                                    </path>
                                    <polygon id="primary-2" data-name="primary" points="15 3 15 5 17 5 15 3"
                                        style="fill: none; stroke: #2ca9bc; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;">
                                    </polygon>
                                </g>
                            </svg>
                        </div>
                        <div class="text-end fw-bold h6 text-muted"> Approved <h4 class="fw-bold text-muted">
                                <span>{{ $applications->where('permit_status', 'approved')->count() }}</span>
                            </h4>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col col-lg-3 col-md-6">
            <div class="card rounded-4">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="rounded-circle p-2 bg-soft-danger">
                            <svg fill="currentColor" width="50" viewBox="0 0 24 24" id="rejected-file-2"
                                data-name="Flat Color" xmlns="http://www.w3.org/2000/svg" class="icon flat-color">
                                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                                <g id="SVGRepo_iconCarrier">
                                    <path id="primary"
                                        d="M4.29,4.29l2-2A1,1,0,0,1,7,2H18a2,2,0,0,1,2,2V20a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V5A1,1,0,0,1,4.29,4.29Z"
                                        style="fill: currentColor;"></path>
                                    <path id="secondary"
                                        d="M7,4A1,1,0,0,1,6,5H4a1,1,0,0,1,.28-.71l2-2A1,1,0,0,1,7,2Zm2.29,9.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L12,13.41l1.29,1.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42L13.41,12l1.3-1.29a1,1,0,0,0-1.42-1.42L12,10.59l-1.29-1.3a1,1,0,0,0-1.42,1.42L10.59,12Z"
                                        style="fill: #eff1f1;"></path>
                                </g>
                            </svg>
                        </div>
                        <div class="text-end fw-bold h6 text-muted"> Rejected <h4 class="fw-bold text-muted">
                                <span>{{ $applications->where('permit_status', 'rejected')->count() }}</span>
                            </h4>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-12 card rounded-2 shadow">
        <div class="col-12 px-3 py-2 d-flex align-items-center">
            <div class="col-6 h6 fw-bold text-muted py-3">
                Research Permit Applications
            </div>
            <div class="col-6 d-flex justify-content-end align-items-end text-end">
                <div class="col-6">
                    <input type="text" class="form-control border-light rounded-1" name="" id=""
                        placeholder="Search here...">
                </div>
            </div>
        </div>
        <table class="table align-middle table-nowrap table-striped-columns mb-0">
            <thead class="bg-light">
                <tr class="fw-bold">
                    <th scope="col" class="text-center p-2" style="font-weight:800">Permit No</th>
                    <th scope="col" class="text-center p-2" style="font-weight:800">Applicant</th>
                    <th scope="col" class="text-center p-2" style="font-weight:800">Agent</th>
                    <th scope="col" class="text-center p-2" style="font-weight:800">Status</th>
                    <th scope="col" class="text-center p-2" style="font-weight:800">Action</th>
                </tr>
            </thead>
            <tbody>
                @forelse ($applications as $application)
                    <tr>
                        <td class="text-center fw-bold">{{ $application->permit_no }}</td>
                        <td class="text-center fw-bold">
                            {{ $application->user->first_name . ' ' . $application->user->last_name }}
                        </td>
                        <td class="text-center fw-bold text-capitalize">
                            @if ($application->agent)
                                {{ $application->agent->first_name . ' ' . $application->agent->last_name }}
                            @else
                                <span class="text-muted px-2 py-1 rounded-pill">not assigned</span>
                            @endif
                        </td>
                        <td class="text-center">
                            @if ($application->permit_status == 'new')
                                <span class="badge bg-primary  px-2 py-1 rounded-pill">
                                    {{ $application->permit_status }}
                                </span>
                            @endif
                            @if ($application->permit_status == 'under_review')
                                <span class="badge bg-warning px-2 py-1 rounded-pill">
                                    {{ $application->permit_status }}
                                </span>
                            @endif
                            @if ($application->permit_status == 'approved')
                                <span class="badge bg-success px-2 py-1 rounded-pill">
                                    {{ $application->permit_status }}
                                </span>
                            @endif
                            @if ($application->permit_status == 'waiting_payment')
                                <span class="badge bg-warning px-2 py-1 rounded-pill">
                                    {{ $application->permit_status }}
                                </span>
                            @endif
                            @if ($application->permit_status == 'rejected')
                                <span class="alert bg-danger px-2 py-1 rounded-pill">
                                    {{ $application->permit_status }}
                                </span>
                            @endif
                        </td>
                        <td class="text-center">
                            <div class="row d-flex justify-content-center text-center">
                                <div class="col-1 btn p-0 m-0 me-3">
                                    <svg width="20" fill="#000000" viewBox="0 0 24 24"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round">
                                        </g>
                                        <g id="SVGRepo_iconCarrier">
                                            <path
                                                d="M8.661,19.113,3,21l1.887-5.661ZM20.386,7.388a2.1,2.1,0,0,0,0-2.965l-.809-.809a2.1,2.1,0,0,0-2.965,0L6.571,13.655l3.774,3.774Z">
                                            </path>
                                        </g>
                                    </svg>
                                </div>
                                <a href="{{ route('research-permit-application.show', ['permit_no' => $application->permit_no]) }}"
                                    class="col-1 btn p-0 m-0 me-3">
                                    <svg width="20" viewBox="0 0 24 24" fill="currentColor"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round">
                                        </g>
                                        <g id="SVGRepo_iconCarrier">
                                            <path
                                                d="M9.75 12C9.75 10.7574 10.7574 9.75 12 9.75C13.2426 9.75 14.25 10.7574 14.25 12C14.25 13.2426 13.2426 14.25 12 14.25C10.7574 14.25 9.75 13.2426 9.75 12Z"
                                                fill="#2e46ba"></path>
                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                d="M2 12C2 13.6394 2.42496 14.1915 3.27489 15.2957C4.97196 17.5004 7.81811 20 12 20C16.1819 20 19.028 17.5004 20.7251 15.2957C21.575 14.1915 22 13.6394 22 12C22 10.3606 21.575 9.80853 20.7251 8.70433C19.028 6.49956 16.1819 4 12 4C7.81811 4 4.97196 6.49956 3.27489 8.70433C2.42496 9.80853 2 10.3606 2 12ZM12 8.25C9.92893 8.25 8.25 9.92893 8.25 12C8.25 14.0711 9.92893 15.75 12 15.75C14.0711 15.75 15.75 14.0711 15.75 12C15.75 9.92893 14.0711 8.25 12 8.25Z"
                                                fill="#2e46ba"></path>
                                        </g>
                                    </svg>
                                </a>
                                <div class="col-1 btn p-0 m-0 me-3">
                                    <svg width="25" viewBox="0 0 24 24" fill="#f16a1b"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round">
                                        </g>
                                        <g id="SVGRepo_iconCarrier">
                                            <path
                                                d="M4 7.5C4 7.2643 4 7.14645 4.07322 7.07322C4.14645 7 4.2643 7 4.5 7H19.5C19.7357 7 19.8536 7 19.9268 7.07322C20 7.14645 20 7.2643 20 7.5V7.75155C20 7.84249 20 7.88797 19.986 7.92806C19.974 7.96233 19.9547 7.99358 19.9294 8.01963C19.8998 8.0501 19.8591 8.07044 19.7778 8.11111C19.127 8.43649 18.8017 8.59917 18.565 8.84298C18.3626 9.0514 18.2082 9.30138 18.1122 9.57554C18 9.89627 18 10.2601 18 10.9876V16C18 17.8856 18 18.8284 17.4142 19.4142C16.8284 20 15.8856 20 14 20H10C8.11438 20 7.17157 20 6.58579 19.4142C6 18.8284 6 17.8856 6 16V10.9876C6 10.2601 6 9.89627 5.88778 9.57554C5.79185 9.30138 5.63735 9.0514 5.43503 8.84298C5.19835 8.59917 4.87297 8.43649 4.22222 8.11111C4.14088 8.07044 4.10021 8.0501 4.07062 8.01963C4.04533 7.99358 4.02602 7.96233 4.01403 7.92806C4 7.88797 4 7.84249 4 7.75155V7.5Z"
                                                fill="#f16a1b" fill-opacity="0.24"></path>
                                            <path
                                                d="M10.0681 4.37059C10.1821 4.26427 10.4332 4.17033 10.7825 4.10332C11.1318 4.03632 11.5597 4 12 4C12.4403 4 12.8682 4.03632 13.2175 4.10332C13.5668 4.17033 13.8179 4.26427 13.9319 4.37059"
                                                stroke="#f16a1b" stroke-linecap="round"></path>
                                            <rect x="14" y="11" width="1" height="6" rx="0.5"
                                                fill="#f16a1b"></rect>
                                            <rect x="9" y="11" width="1" height="6" rx="0.5"
                                                fill="#f16a1b"></rect>
                                        </g>
                                    </svg>
                                </div>
                            </div>
                         
                        </td>
                    </tr>
                @empty
                    <tr>
                        <td colspan="8" class="text-center">
                            <div>
                                <svg viewBox="0 0 24 24" width="30" fill="currentColor"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                                    <g id="SVGRepo_iconCarrier">
                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                            d="M13.0618 4.4295C12.6211 3.54786 11.3635 3.54786 10.9228 4.4295L3.88996 18.5006C3.49244 19.2959 4.07057 20.2317 4.95945 20.2317H19.0252C19.914 20.2317 20.4922 19.2959 20.0947 18.5006L13.0618 4.4295ZM9.34184 3.6387C10.4339 1.45376 13.5507 1.45377 14.6428 3.63871L21.6756 17.7098C22.6608 19.6809 21.228 22 19.0252 22H4.95945C2.75657 22 1.32382 19.6809 2.30898 17.7098L9.34184 3.6387Z"
                                            fill="#1C1C1C"></path>
                                        <path d="M12 8V13" stroke="currentColor" stroke-width="1.7"
                                            stroke-linecap="round"></path>
                                        <path d="M12 16L12 16.5" stroke="currentColor" stroke-width="1.7"
                                            stroke-linecap="round"></path>
                                    </g>
                                </svg>
                            </div>
                            <div class="text-muted fw-bold"><small>No permit applications found...</small>
                            </div>
                        </td>
                    </tr>
                @endforelse

            </tbody>
        </table>
    </div>
</div>
